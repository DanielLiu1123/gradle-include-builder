"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[508],{9400:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>c,toc:()=>h});var r=n(7624),i=n(2172);const a={sidebar_position:10},s="Git Repository",c={id:"project-types/git",title:"Git Repository",description:"This section describes how to use a Git repository as a dependency.",source:"@site/docs/20-project-types/10-git.mdx",sourceDirName:"20-project-types",slug:"/project-types/git",permalink:"/gradle-include-builder/docs/project-types/git",draft:!1,unlisted:!1,editUrl:"https://github.com/DanielLiu1123/gradle-include-builder/tree/main/website/docs/20-project-types/10-git.mdx",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Project Types",permalink:"/gradle-include-builder/docs/category/project-types"},next:{title:"Directory",permalink:"/gradle-include-builder/docs/project-types/dir"}},o={},h=[{value:"Basic",id:"basic",level:2},{value:"Use the Same Branch",id:"use-the-same-branch",level:2},{value:"Branch Mapping",id:"branch-mapping",level:2},{value:"Build Path",id:"build-path",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,i.M)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"git-repository",children:"Git Repository"}),"\n",(0,r.jsxs)(t.p,{children:["This section describes how to use a ",(0,r.jsx)(t.strong,{children:"Git repository"})," as a dependency."]}),"\n",(0,r.jsx)(t.h2,{id:"basic",children:"Basic"}),"\n",(0,r.jsxs)(t.p,{children:["If the ",(0,r.jsx)(t.code,{children:"path"})," directory does not exist, the remote repository will be cloned to the specified directory."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",metastring:'title="include-builder.yaml"',children:"projects:\n  - id: httpexchange-spring-boot-starter\n    git:\n      url: https://github.com/DanielLiu1123/httpexchange-spring-boot-starter\n      branch: main\n      path: third-party/httpexchange-spring-boot-starter\n"})}),"\n",(0,r.jsx)(t.h2,{id:"use-the-same-branch",children:"Use the Same Branch"}),"\n",(0,r.jsx)(t.p,{children:"It is possible to configure the git repository\nto try to use the same branch and use the default branch if the branch does not exist."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",metastring:'title="include-builder.yaml"',children:"trySameBranch: true # default is false\nprojects:\n  - id: httpexchange-spring-boot-starter\n    git:\n      url: https://github.com/DanielLiu1123/httpexchange-spring-boot-starter\n      branch: main\n      path: third-party/httpexchange-spring-boot-starter\n      trySameBranch: true # override the global configuration\n  - id: grpc-starter\n    git:\n      url: https://github.com/DanielLiu1123/grpc-starter\n      branch: main\n      path: third-party/grpc-starter\n      trySameBranch: false\n"})}),"\n",(0,r.jsx)(t.h2,{id:"branch-mapping",children:"Branch Mapping"}),"\n",(0,r.jsxs)(t.p,{children:["If you currently work on branch ",(0,r.jsx)(t.code,{children:"feat-x"}),", and want this branch to depend on the specified branch of git repository,\nyou can use ",(0,r.jsx)(t.code,{children:"branchMappingDir"})," configuration."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",metastring:'title="include-builder.yaml"',children:"branchMappingDir: .branch-mappings # default is .branch-mappings\nprojects:\n  - id: httpexchange-spring-boot-starter\n    git:\n      url: https://github.com/DanielLiu1123/httpexchange-spring-boot-starter\n      branch: main\n      path: third-party/httpexchange-spring-boot-starter\n  - id: grpc-starter\n    git:\n      url: https://github.com/DanielLiu1123/grpc-starter\n      path: third-party/grpc-starter\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Now, you can create file ",(0,r.jsx)(t.code,{children:"feat-x.yaml"})," (",(0,r.jsx)(t.code,{children:"<branch>.yaml"}),") in the ",(0,r.jsx)(t.code,{children:".branch-mappings"})," directory to map the current branch to the specified branch."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",metastring:'title=".branch-mappings/feat-x.yaml"',children:"mappings:\n  - id: httpexchange-spring-boot-starter\n    branch: 3.2.x # This will override '.projects[].git.branch' configuration in the include-builder.yaml\n  - id: grpc-starter\n    branch: main\n"})}),"\n",(0,r.jsx)(t.h2,{id:"build-path",children:"Build Path"}),"\n",(0,r.jsxs)(t.p,{children:["The build path may not always be the root dir and can be specified via the ",(0,r.jsx)(t.code,{children:"buildPath"})," configuration."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",metastring:'title="include-builder.yaml"',children:"trySameBranch: true # default is false\nprojects:\n  - git:\n      url: https://github.com/xxx/multi-module-project\n      buildPath: ./java-module # default is root dir (.)\n"})}),"\n",(0,r.jsxs)(t.p,{children:["See ",(0,r.jsx)(t.a,{href:"https://github.com/DanielLiu1123/gradle-include-builder/tree/main/examples/git",children:"git example"}),"."]})]})}function d(e={}){const{wrapper:t}={...(0,i.M)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},2172:(e,t,n)=>{n.d(t,{I:()=>c,M:()=>s});var r=n(1504);const i={},a=r.createContext(i);function s(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);